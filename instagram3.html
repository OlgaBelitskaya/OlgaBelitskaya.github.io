<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=0.9*device-width">
    <title>Instagram_Posts3</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>$(function () {
    sagecell.makeSagecell({inputLocation:'div.linked',linked:true,evalButtonText:'Run Linked Cells'});
    sagecell.makeSagecell({inputLocation:'div.sage_html',evalButtonText:'Run HTML'});  
    sagecell.makeSagecell({inputLocation:'div.sage_js',evalButtonText:'Run JavaScript'});
    sagecell.makeSagecell({inputLocation:'div.sage_r',evalButtonText:'Run R'});  
    sagecell.makeSagecell({inputLocation:'div.sage',evalButtonText:'Run'});
    });
    </script>
  </head>
  <style>
  @import url('https://fonts.googleapis.com/css?family=Orbitron');
  h1, h2 {color:#3636ff; font-family:'Orbitron'; text-shadow:5px 5px 5px #aaa;}
  p, a {color:darkblue; font-size:120%; text-shadow:5px 5px 5px #aaa;}
  .sagecell .CodeMirror-scroll {min-height:3em; max-height:26em;}
  </style>  
  <body>
    <h1>&#x1F4D1; &nbsp;Instagram Posts. Part 3</h1>
<a href="https://www.instagram.com/olga.belitskaya/">&#x1F300; &nbsp; Instagram Posts &nbsp;</a>     
<a href="https://www.pinterest.ru/olga_belitskaya/code-style/">&#x1F300; &nbsp; Pinterest Posts</a>
    <p></p> 
    <h1>1</h1>
Jupyter Notebook &#38; SageMath Kernel 
    <p>Click “Run” twice. Use in HTML documents with &#60;/script&#62; in the end.</p>
<div class="sage_html"><script type="text/x-sage">
%%html

</script></div>
    <h1>If you want to experiment with text classification</h1>
Jupyter Notebook &#38; SageMath Kernel      
    <p></p> 
<div class="sage"><script type="text/x-sage">
import pylab; from sklearn.datasets import fetch_20newsgroups
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.neural_network import MLPClassifier
train=fetch_20newsgroups(subset='train',shuffle=True,remove=('headers','footers','quotes'))
test=fetch_20newsgroups(subset='test',shuffle=True,remove=('headers','footers','quotes'))
y_train,y_test=train.target,test.target
vectorizer=TfidfVectorizer(sublinear_tf=True,max_df=0.5,stop_words='english')
x_train=vectorizer.fit_transform(train.data); x_test=vectorizer.transform(test.data)
del train,test; print(x_train.shape,x_test.shape,y_train.shape,y_test.shape)
clf=MLPClassifier(hidden_layer_sizes=(64,),max_iter=5,solver='adam',verbose=2,random_state=1,learning_rate_init=.01)
clf.fit(x_train,y_train); print(clf.score(x_test,y_test))
y_test_predictions=clf.predict(x_test)
pylab.figure(figsize=(12,5)); pylab.scatter(range(100),y_test[:100],s=100)
pylab.scatter(range(100),y_test_predictions[:100],s=25); pylab.show()
</script></div>
    <p></p> 
<div class="sage"><script type="text/x-sage">

</script></div>
    <p></p>
<div class="sage"><script type="text/x-sage">

</script></div>
    <p></p>
    <h1>4</h1>
Jupyter Notebook &#38; SageMath Kernel
    <p>Click “Run” twice. Use in HTML documents with &#60;/script&#62; in the end.</p>
<div class="sage_html"><script type="text/x-sage">
%%html

</script></div>
    <p></p>
    <h1>5</h1>
Jupyter Notebook &#38; SageMath Kernel 
<div class="sage_r"><script type="text/x-sage">
%%r

</script></div>
    <p></p>
    <h1>Add your map parameters in Highcharts.js</h1>
Jupyter Notebook &#38; SageMath Kernel
    <p>Click “Run” twice. Use in HTML documents with &#60;/script&#62; in the end.</p>
<div class="sage_html"><script type="text/x-sage">
%%html
<script src="https://code.highcharts.com/maps/highmaps.js"/>
<script src="https://code.highcharts.com/modules/exporting.js"/>
<script src="https://code.highcharts.com/modules/offline-exporting.js"/>
<script src="https://code.highcharts.com/mapdata/custom/europe.js"/>
</script></div>
    <p></p>
<div class="sage_js"><script type="text/x-sage">
%%javascript
var s1='Variants for Highlighting:<br>AL,AD,AM,AT,BY,BE,BA,BG,CH,CY,CZ,DE,DK,EE,ES,FO,FI,FR,GB,GE,GI,GR,';
var s2='<br>HU,HR,IE,IS,IT,LT,LU,LV,MC,MK,MT,NO,NL,PL,PT,RO,RU,SE,SI,SK,SM,TR,UA,VA'; var s=s1.concat(s2);
Highcharts.mapChart('container1', {
    chart:{map:'custom/europe',borderWidth:1,backgroundColor:'slategray'},
    title:{style:{'color':'#fff','fontSize':'18px'},text:'Explore Highcharts Parameters with Maps'},
    subtitle:{style:{'color':'#fff','fontSize':'14px'},text:s},legend:{enabled:false},
    series:[{name:'Country',color:'#1636ff',borderColor:'steelblue',borderWidth:1.5,
             data:[['fr',1],['gb',1],['es',1],['de',1],['it',1],['pl',1],['by',1]],
             dataLabels:{enabled:true,color:'#fff',formatter:function (){if (this.point.value){return this.point.name;}}},
             tooltip:{headerFormat:'',pointFormat:'{point.name}'}}]
});
</script></div>
    <p></p> 
<div id="container1" style="height:600px; width:600px; margin:0 auto">html+javascript is launching here...</div>
    <p></p>
  </body>
</html> 