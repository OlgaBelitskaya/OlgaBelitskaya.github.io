<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>SageMath_Part4</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>$(function () {
    // Make the div with id 'mycell' a Sage cell
    sagecell.makeSagecell({inputLocation:  '#examplecell',
                           template:       sagecell.templates.minimal,
                           evalButtonText: 'Activate'});
    // Make *any* div with class 'compute' a Sage cell
    sagecell.makeSagecell({inputLocation: 'div.compute',
                           evalButtonText: 'Evaluate'});
    });
    </script>
  </head>
  <style>
  @import url('https://fonts.googleapis.com/css?family=Orbitron');
  h1, h2 {color:#3636ff; font-family:'Orbitron'; text-shadow:5px 5px 5px #aaa;}
  p, a {color:darkblue; font-size:120%; text-shadow:5px 5px 5px #aaa;}
  .sagecell .CodeMirror-scroll {min-height:3em; max-height:26em;}
  </style>  
  <body>
  <h1>&#x1F4D1; &nbsp;SageMath Online Mini Campus. Part 4</h1>
<a href="https://www.instagram.com/olga.belitskaya/">&#x1F300; &nbsp; Instagram Posts &nbsp;</a>     
<a href="https://www.pinterest.ru/olga_belitskaya/code-style/">&#x1F300; &nbsp; Pinterest Posts</a>
    <p>The set of interactive pages with the following structure:</p>
    <p>Example of Computations $\implies$ Your Field for Experiments $\implies$ Try Python Modules $\implies$ Try Other Languages</p>  
  <h2>Example of Computations</h2>
    <p>Click the “Activate” button below to display an interactive example.</p>      
<div id="examplecell"><script type="text/x-sage">
@interact
def _(N=(9,1,-1)):
    s='<center><font color="#3636ff" size=5>Derivatives till the %s Order</font></center>'
    var('x'); pretty_print(html(s%str(N))); f,g=exp(x)*x,1/(x+1); F,G=[f],[g]
    for i in range(N): 
        f=f.diff().factor(); g=g.diff().factor(); F.append(f); G.append(g)
    p1=sum([plot(F[i],(-2,1),color=colormaps.jet(30*i)[:3],legend_label=str(i)) for i in [0..N]])
    p2=sum([plot(G[i],(0,3),color=colormaps.jet(30*i)[:3],legend_label=str(i)) for i in [0..N]])
    p1.show(title='$f= x \cdot e^x$',fontsize=12,figsize=(4,5),gridlines=True)
    p2.show(title='$f= \\frac{1}{x+1}$',fontsize=12,figsize=(4,5),gridlines=True,ymin=-20,ymax=20)
</script></div>
  <h2>Your Field for Experiments</h2>
    <p>Type your own SageMath code lines below and click “Evaluate”.</p>      
<div class="compute"><script type="text/x-sage">
var('x,y,z'); tr(i)=(0,3*cos(pi*i/12),3*sin(pi*i/12))
from sage.plot.plot3d.shapes import Sphere
p=implicit_plot3d(x^2/9+y^2/4+z^2-1,(x,-3,3),(y,-3,3),(z,-3,3),contour=0,
                  frame=False,color=((abs(z)).function(x,y,z),colormaps.flag))
p+sum([Sphere(.3,color=(i/4,0,i/3)).translate(tr(i)) for i in [1..24]])
</script></div>
    <p></p>
<div class="compute"><script type="text/x-sage">
@interact
def _(N=(16,4,-1)):
    p1=sum([polar_plot(log(floor(x)),(x,k*pi/2,(k+1)*pi/2),color=colormaps.winter(N*k)[:3],
                       thickness=1,exclude=[1..int((k+1)*pi/2)]) for k in [1..N]])
    p2=sum([polar_plot(log(floor(x)),(x,k*pi/2,(k+1)*pi/2),color=colormaps.summer(N*k)[:3],
                       thickness=1,exclude=[1..int(k*pi/2)]) for k in [1..N]])
    p1.show(figsize=(8,4)); p2.show(figsize=(8,4))
</script></div>
    <p></p>
<div class="compute"><script type="text/x-sage">
A,B = 1.53,0.76 
X=[0.1*i*random() for i in range(200)]; Y=[A*x+B+4*random()*(-1)^randint(0,1) for x in X]
var('a,b,x'); F=a*x+b; ff=find_fit(zip(X,Y),F,variables=[x]); 
a,b = float(str(ff[0])[5:]),float(str(ff[1])[5:]); F=[a*x+b for x in X]
pf=points(zip(X,F),color='#ff3636',legend_label='fitted line')
pr=points(zip(X,Y),color='#3636ff',legend_label='real data') 
print(ff); (pf+pr).show(figsize=(10,5))
</script></div>    
  <h2>Try Python Modules</h2>
<div class="compute"><script type="text/x-sage">
from sklearn.feature_extraction.text import CountVectorizer
corpus = ['Have you already set your goals for the New Year?', 
          'Do you want to lose ten kilos, run a marathon or speak fluent English?', 
          'Some experts believe that you need systems, not goals.', 
          'A system is something you do on a regular basis. ',
          'This means focusing on what you can control (your actions) rather than what you can’t.',
          'For example, do not focus on losing ten kilos.',
          'Focus on shopping for healthy food and cooking something light every day.',
          'Do not focus on the marathon.',
          'Focus on the training schedule.',
          'Invent a system to improve your English, one step at a time.',
          'Good luck!']
c_vectorizer = CountVectorizer(min_df=1); corpus_features = c_vectorizer.fit_transform(corpus)
corpus_array = corpus_features.toarray().astype('int16'); c_analyzer = c_vectorizer.build_analyzer()
import pylab; pylab.figure(figsize=(10,5)); pylab.grid()
pylab.title("The Words' Occurrence in Sentences",fontsize=15)
for i in range(len(corpus_array)):
    pylab.scatter(range(len(corpus_array[i])),(corpus_array[i]*0.5+i),marker='s')
pylab.show();
</script></div>
      
  <h2>Try Other Languages (R, HTML, ...)</h2>
<div class="compute"><script type="text/x-sage">
%%r
bin2dec <- function(n) {sapply(strsplit(as.character(n),split=''),function(x) sum(as.numeric(x)*2**(rev(seq_along(x)-1))))}
bin2dec(c('11100110010','1001','1010101111'))
</script></div>
    <p></p>
<div class="compute"><script type="text/x-sage">
%%html
<div 
title="An Image Example" 
style="border:10px double white; width:200px; height:200px; overflow:auto; padding:10px; background-color:#3636ff">
<img src="flower.png" width="150" height="150"/>
</div>
</script></div> 
    <p></p>
  </body>
</html>