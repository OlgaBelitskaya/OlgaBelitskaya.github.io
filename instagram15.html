<!DOCTYPE HTML>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width'>
    <title>Instagram_Posts15</title>
    <script src='https://sagecell.sagemath.org/static/embedded_sagecell.js'></script>
    <script>$(function (){
    sagecell.makeSagecell({inputLocation:'div.linked',linked:true,
                           evalButtonText:'Run Linked Cells'});
    sagecell.makeSagecell({inputLocation:'div.sage_html',evalButtonText:'Run HTML'});  
    sagecell.makeSagecell({inputLocation:'div.sage_js',evalButtonText:'Run JavaScript'});
    sagecell.makeSagecell({inputLocation:'div.sage_r',evalButtonText:'Run R'});  
    sagecell.makeSagecell({inputLocation:'div.sage',evalButtonText:'Run SageMath'}); });
    </script>
  </head>
  <style>
  @import 'https://fonts.googleapis.com/css?family=Orbitron';
  h1,h2 {color:#3636ff; font-family:Orbitron; text-shadow:5px 5px 5px #aaa;}
  p,a {color:darkblue; font-size:120%; text-shadow:5px 5px 5px #aaa;}
  .sagecell .CodeMirror-scroll {min-height:3em; max-height:30em;}
  body {margin:5px 5px 5px 15px;}
  </style>  
  <body>
<script src='https://profile.codersrank.io/widget/widget.js'></script>
<codersrank-widget username='olgabelitskaya' layout='vertical'
style='--header-bg-color:#3636ff; font-family:Orbitron;'></codersrank-widget>
    <h1>&#x1F4D1; &nbsp;Instagram Posts. Part 15</h1>
<a href='https://olgabelitskaya.github.io/README.html'>&#x1F300; &nbsp; Home Page &nbsp; &nbsp;</a> 
<a href='https://olgabelitskaya.github.io/instagram13.html'>&#x1F300; &nbsp; Previous &nbsp; &nbsp;</a><br/>
<a href='https://www.instagram.com/olga.belitskaya/'>&#x1F300; &nbsp; Instagram Posts &nbsp; &nbsp;</a>     
<a href='https://www.pinterest.ru/olga_belitskaya/code-style/'>&#x1F300; &nbsp; Pinterest Posts</a>
    <h1>___</h1>
SageMath <br/>
<div class='sage'><script type='text/x-sage'>

</script></div><br/>
    <h1>___</h1>
SageMath <br/>
<div class='sage'><script type='text/x-sage'>

</script></div><br/>
    <h1>___</h1>
Linked Cells & Python<br/>
<div class='linked'><script type='text/x-sage'>
import pandas as pd,pylab as pl
user='https://raw.githubusercontent.com/OlgaBelitskaya/'
path='machine_learning_engineer_nd009/'+\
     'master/Machine_Learning_Engineer_ND_P3/'
data=pd.read_csv(user+path+'customers.csv')
data.drop(['Region'],axis=1,inplace=True)
fig=pl.figure(figsize=(8,8))
ax=fig.add_subplot('211')
pd.plotting.andrews_curves(
    data,'Channel',ax=ax,color=['#3636ff','#ff3636'])
ax=fig.add_subplot('212')
pd.plotting.parallel_coordinates(
    data,'Channel',ax=ax,color=['#3636ff','#ff3636'])
pl.show();
</script></div><br/>
<div class='linked'><script type='text/x-sage'>
pl.figure(figsize=(8,8))
pd.plotting.radviz(data,'Channel',s=3)
pl.xticks([]); pl.yticks([]); pl.show()
</script></div><br/>
<div class='linked'><script type='text/x-sage'>
pl.figure(figsize=(8,8))
data[data<5000].boxplot(by='Channel')
pl.show()
</script></div><br/>
<div class='linked'><script type='text/x-sage'>
fig=pl.figure(figsize=(10,4))
ax=fig.add_subplot('111')
data.iloc[:,int(1):].plot.area(stacked=False,ax=ax)
data_mean=pd.DataFrame(data.iloc[:,int(1):].mean()).T
pd.plotting.table(ax,data_mean,loc='top')
pl.grid(); pl.show()
</script></div><br/>
    <h1>___</h1>
Python <br/>
<div class='sage'><script type='text/x-sage'>

</script></div><br/>
    <h1>___</h1>
Python <br/>
<div class='sage'><script type='text/x-sage'>

</script></div><br/>
      <h1>____</h1>
R <br/>
<div class='sage_r'><script type='text/x-sage'>
%%r

</script></div><br/>
      <h1>____</h1>
R <br/>
<div class='sage_r'><script type='text/x-sage'>
%%r

</script></div><br/>
      <h1>____</h1>
HTML &#38; JavaScript (Click 'Run HTML' twice!)<br/>
<div class='sage_html'><script type='text/x-sage'>
%%html
<script src='https://d3js.org/d3.v6.min.js'/>
<svg id='d301' style='background-color:silver;'/>
<script>
var m=20,margin={top:m,right:m,bottom:m,left:m},
    width=600-margin.left-margin.right,
    height=600-margin.top-margin.bottom;
function randi(min,max) {
    return Math.floor(Math.random()*(max-min+1))+min;};
function randcol() {
    var g=randi(50,200),b=randi(50,200);
    return '#00'+g.toString(16)+b.toString(16);}
function fx(a,b,c,d,e,f,t) {
    var x1=Math.sin(t/d),
        x2=(-1)**f*a*Math.sin(b*t)*Math.cos(t),
        x3=(-1)**f*c*Math.sin(e*b*t);
    return x1+x2+x3};
function fy(a,b,c,d,e,f,t) {
     var y1=Math.cos(t/d),
         y2=(-1)**f*a*Math.sin(b*t)*Math.sin(t),
         y3=(-1)**f*c*Math.cos(e*b*t);
     return y1+y2+y3};
function make_data() {
    const a=randi(5,15)/10,b=randi(6,12),c=randi(1,100)/10**3,
          d=randi(5,7),e=randi(14,18),f=randi(1,2);
    var data=d3.range(1,10**3+1).map(function(k) {
        return {'x':fx(a,b,c,d,e,f,k*b*e*Math.PI/10**3),
                'y':fy(a,b,c,d,e,f,k*b*e*Math.PI/10**3)}; });
    return [data,[a,b,c,d,e,f]]};
function RandomPlot(data,coef,col) {
    var line=d3.line().curve(d3.curveMonotoneX)
               .x(function(d){return xScale(d.x);})
               .y(function(d){return yScale(d.y);});
    svg.append('path').datum(data)
       .transition().duration(10000)
       .attr('class','line').attr('d',line)
       .attr('stroke',col).attr('stroke-width',.5)
       .attr('fill',col).attr('fill-opacity',.1);
    svg.append('text').attr('id','plot_text')
       .text('[a,b,c,d,e,f]='+coef)
       .attr('x',width/2).attr('y',40)
       .attr('fill',col);};
var xScale=d3.scaleLinear().domain([-3,3])
             .range([0,width]);
var yScale=d3.scaleLinear().domain([-3,3])
                  .range([height,0]);
var svg=d3.select('#d301')
          .attr('width',width+margin.left+margin.right)
          .attr('height',height+margin.top+margin.bottom)
          .attr('transform','translate('+margin.left+','+margin.top+')');
svg.append('text').text('<<< add a random line')
   .attr('x',60).attr('y',40).attr('fill','#36ffff')
   .attr('style','font-family:Akronim; font-size:120%'); 
svg.append('circle')
   .attr('cx',40).attr('cy',40)
   .attr('r',20).attr('fill','#36ffff')
   .attr('stroke','silver').attr('stroke-width',5)
   .on('click',function() {
        d3.selectAll('#plot_text').transition().duration(3000).remove();
        d3.selectAll('path').transition().duration(3000).remove();
        var array=make_data(),col=randcol();
        RandomPlot(array[0],array[1],col);});
</script></div><br/>
      <h1>____</h1>
HTML &#38; JavaScript (Click 'Run HTML' twice!)<br/>
<div class='sage_html'><script type='text/x-sage'>
%%html

</script></div><br/>
  </body>
</html>