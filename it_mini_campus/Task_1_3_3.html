<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Task_1_3_3</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>$(function () {
    sagecell.makeSagecell({inputLocation:'div.linked',linked:true,evalButtonText:'Run Linked Cells'});
    sagecell.makeSagecell({inputLocation:'div.sage_html',evalButtonText:'Run HTML'});  
    sagecell.makeSagecell({inputLocation:'div.sage_js',evalButtonText:'Run JavaScript'});
    sagecell.makeSagecell({inputLocation:'div.sage_r',evalButtonText:'Run R'});  
    sagecell.makeSagecell({inputLocation:'div.sage',evalButtonText:'Run SageMath'}); });
    </script>
  </head>
  <style>
  @import url('https://fonts.googleapis.com/css?family=Orbitron');
  h1, h2 {color:#3636ff; font-size:110%; font-family:'Orbitron'; text-shadow:5px 5px 5px #aaa;}
  p, a {color:darkblue; font-size:120%; text-shadow:5px 5px 5px #aaa;}
  .sagecell .CodeMirror-scroll {min-height:3em; max-height:50em;}
  </style>  
  <body>
    <h1>IT Online Mini Campus. Task 1.3.3</h1>
    <a href="https://search.rsl.ru/ru/record/01001821198">&#x1F300; Сборник задач по базовой компьютерной подготовке:[Для втузов]</a>
    <h1>Finding Summation Values</h1>
Create an algorithm and a program
    <h2>Explore detached cells</h2>
SageMath &#38; SageMathCell<br/>
<div class="sage"><script type="text/x-sage">
#1
def display_polyarc(n,r):
    A=[0]; L=[]; [A.append(A[i-1]+4*pi*i/(n*(n+1))) for i in [1..n]]
    pretty_print(html('$A=%s$'%latex(A)))
    ar=sum([arc((0,0),r,sector=(A[i],A[i+1]),color=hue(i/n)) for i in range(n)])
    for i in range(n+1):
        x=1-2*sin(A[i]/2)^2; y=sqrt(1-x^2)*sign(cos(A[i]/2)); L.append([r*x,r*y])
    l=sum([line((L[i],L[i+1]),color=hue(i/n)) for i in range(n)])
    s=sum([2*r*sin((A[i+1]-A[i])/2) for i in range(n)])
    pretty_print(html('$S=%s$<br/>$S=%.4f$'%(latex(s),s.n())))
    (ar+l).show(gridlines=True)
display_polyarc(8,3)
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#2
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#3
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#4
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#5
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#6
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#7
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#8
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#9
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#10
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#11
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#12
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#13
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#14
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#15
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#16
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#17
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#18
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#19
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#20
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#21
var('D,G,i,N'); Vi(D,i)=4/3*pi*((D+i)/2)^3-4/3*pi*((D+i-1)/2)^3
v(D,i)=Vi(D,i).expand().simplify().factor()
pretty_print('volume of the i-th layer:'); pretty_print(v(D,i))
P(D,G,N)=sum(v(D,i)*G/i,i,1,N)
pretty_print('total gravity of N layers:'); pretty_print(P(D,G,N).factor())
from sage.plot.plot3d.shapes import Sphere
def display_shell(D,G,N):
    g=Graphics(); s=Sphere(D/2,color='gray',frame=false)
    layers=sum([Sphere((D+i)/2,opacity=G/i) for i in [1..N]])
    pretty_print('D=%d, G=%.2f, N=%d -> P=%f'%(D,G,N,P(D,G,N))) 
    (g+s+layers).show()
display_shell(7,.75,10)
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#22
# Variant 1
V=0; N=3; c=0; R=4.17; H=2.79 
s='Данные не корректны'
if (R<=0 or H<=0):
    pretty_print(s); c=1   
else: 
    for i in range(N):
        V+=.5*pi*H^2*(R+(i+1)*H/2-H/6)
t=[['number',N],['radius',R],['height',H],
   ['volume',html(ascii_art('<p>$%s$</p>'\
   %[latex(V),latex(V.n())]))]]
if c==0: show(table(t))
# Variant 2
V=0; N=7 
R=round(random()*10,2)
H=round(1+random()*3,2)
for i in range(N):
    V+=.5*pi*H^2*(R+(i+1)*H/2-H/6)
t=[['number',N],['radius',R],['height',H],
   ['volume',html(ascii_art('<p>$%s$</p>'\
   %[latex(V),latex(V.n())]))]]
table(t)
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#23
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#24
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#25
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#26
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#27
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#28
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#29
</script></div><br/>
<div class="sage"><script type="text/x-sage">
#30
</script></div><br/>    
  </body>
</html>